{% extends 'base.html.twig' %}

{% block title %}
{{app.user.nom ~' '~ app.user.prenom }}
{% endblock %}
{% block css %}
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="{{asset('css/sidebar.css')}}">
{% endblock %}

{% block body %}
<div class="profile">
    <!-- Sidebar -->
    <div class="w3-sidebar w3-light-grey w3-bar-block flex-1" style="width:20%">
        <h3 class="w3-bar-item">Menu</h3>
        <a href="{{path('profile_info')}}" class="w3-bar-item w3-button">Mes informations</a>
        <a href="{{path('profile_gerermonadresse')}}" class="w3-bar-item w3-button">Gerer mon adresse</a>
        <a href="{{path('profile_annonces')}}" class="w3-bar-item w3-button">Mes annonces</a>
        <a href="{{path('profile_mesFavoris')}}" class="w3-bar-item w3-button">Mes favoris</a>
        <a href="{{path('messenger_received')}}" class="w3-bar-item w3-button">Messagerie</a>
    </div>
    <div class="d-flex left">
        <h2 class="coloredTitle m-4">Bienvenue
            {{app.user.prenom| capitalize }}
            !</h2>

        <h3 class="title p-5">
            Mes annonces favoris
            (
            {{app.user.favoris|length}}
            )
        </h3>
        <div class="row">
            {%for favoris in app.user.favoris%}

            <div class="col-5 my-4">
                <div class="card shadow-sm" style="width: 18rem;">
                    {% if favoris.images is not empty %}
                    {% for image in favoris.images %}
                    {% if loop.first %}
                    <img src="{{ asset('images/' ~ image.img) }}" class="card-img-top "
                        style="width:100%; height: 200px; overflow: hidden;" alt="...">
                    {% endif %}
                    {% endfor %}
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{favoris.titre}}</h5>
                        <p>{{favoris.resume()}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <a href="{{path('annonce_detailsAnnonce', {annonce: favoris.id})}}" class="btn btn-primary">Voir plus ..</a>

                        </div>

                    </div>
                </div>
            </div>
            {%endfor%}
        </div>
    </div>
</div>
{%endblock%}